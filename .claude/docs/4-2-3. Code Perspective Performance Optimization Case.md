## ì½”ë“œ ë¶„í•  ë° ë ˆì´ì§€ ë¡œë”© ìµœì í™” ì‚¬ë¡€

### AS-IS

ëŒ€ê·œëª¨ ì‹±ê¸€ í˜ì´ì§€ ì• í”Œë¦¬ì¼€ì´ì…˜(SPA)ì—ì„œ ëª¨ë“  JavaScript ì½”ë“œë¥¼ í•˜ë‚˜ì˜ í° ë²ˆë“¤ë¡œ ì œê³µí•˜ì—¬ ì´ˆê¸° ë¡œë”© ì‹œê°„ì´ ë§¤ìš° ê¸¸ì—ˆìŠµë‹ˆë‹¤.

```jsx
// App.js
import React from "react";
import { BrowserRouter as Router, Route, Switch } from "react-router-dom";
import Home from "./components/Home";
import About from "./components/About";
import Contact from "./components/Contact";
import LargeComponent1 from "./components/LargeComponent1";
import LargeComponent2 from "./components/LargeComponent2";

function App() {
  return (
    <Router>
      <Switch>
        <Route exact path='/' component={Home} />
        <Route path='/about' component={About} />
        <Route path='/contact' component={Contact} />
        <Route path='/large1' component={LargeComponent1} />
        <Route path='/large2' component={LargeComponent2} />
      </Switch>
    </Router>
  );
}

export default App;
```

### TO-BE

ì½”ë“œ ë¶„í• ê³¼ ë ˆì´ì§€ ë¡œë”©ì„ ì ìš©í•˜ì—¬ í•„ìš”í•œ ì½”ë“œë§Œ ë¡œë“œí•˜ë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

- Why: ì´ˆê¸° ë¡œë”© ì‹œê°„ì„ ì¤„ì´ê³  ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•´
- How:
  ```jsx
  // App.js
  import React, { Suspense, lazy } from "react";
  import { BrowserRouter as Router, Route, Switch } from "react-router-dom";

  const Home = lazy(() => import("./components/Home"));
  const About = lazy(() => import("./components/About"));
  const Contact = lazy(() => import("./components/Contact"));
  const LargeComponent1 = lazy(() => import("./components/LargeComponent1"));
  const LargeComponent2 = lazy(() => import("./components/LargeComponent2"));

  function App() {
    return (
      <Router>
        <Suspense fallback={<div>Loading...</div>}>
          <Switch>
            <Route exact path='/' component={Home} />
            <Route path='/about' component={About} />
            <Route path='/contact' component={Contact} />
            <Route path='/large1' component={LargeComponent1} />
            <Route path='/large2' component={LargeComponent2} />
          </Switch>
        </Suspense>
      </Router>
    );
  }

  export default App;
  ```
  1. React.lazy()ì™€ Suspenseë¥¼ ì‚¬ìš©í•˜ì—¬ ì»´í¬ë„ŒíŠ¸ ë ˆë²¨ì—ì„œ ì½”ë“œ ë¶„í•  êµ¬í˜„
  2. ì›¹íŒ©ì˜ dynamic importë¥¼ í™œìš©í•˜ì—¬ ë¼ìš°íŠ¸ ê¸°ë°˜ ì½”ë“œ ë¶„í•  ì ìš©
  3. ì¤‘ìš”í•˜ì§€ ì•Šì€ ë¦¬ì†ŒìŠ¤ëŠ” Intersection Observer APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë ˆì´ì§€ ë¡œë”© êµ¬í˜„
- Result:
  1. ì´ˆê¸° ë¡œë”© ì‹œê°„ ê°ì†Œ
  2. Time to Interactive(TTI) ê°œì„ 
  3. ì „ì²´ í˜ì´ì§€ ì¤‘ëŸ‰ ê°ì†Œ

### ì°¸ê³ ìë£Œ

- React ê³µì‹ ë¬¸ì„œ: Code-Splitting (https://reactjs.org/docs/code-splitting.html)
- ì›¹íŒ© ë¬¸ì„œ: Lazy Loading (https://webpack.js.org/guides/lazy-loading/)

---

## ì›¹ í°íŠ¸ FOUT/FOIT ìµœì í™” ì‚¬ë¡€

### AS-IS

ì›¹ í°íŠ¸ ë¡œë”© ì¤‘ FOUT(Flash of Unstyled Text) ë˜ëŠ” FOIT(Flash of Invisible Text) í˜„ìƒìœ¼ë¡œ ì‚¬ìš©ì ê²½í—˜ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```jsx
/* styles.css */
@font-face {
  font-family: 'CustomFont';
  src: url('custom-font.woff2') format('woff2');
}

body {
  font-family: 'CustomFont', sans-serif;
}
```

### TO-BE

í°íŠ¸ ë¡œë”© ì „ëµì„ ìµœì í™”í•˜ì—¬ FOUT/FOIT í˜„ìƒì„ ìµœì†Œí™”í•˜ê³  ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí–ˆìŠµë‹ˆë‹¤.

- Why: í…ìŠ¤íŠ¸ ê¹œë¹¡ì„ í˜„ìƒì„ ì¤„ì´ê³  ì¼ê´€ëœ íƒ€ì´í¬ê·¸ë˜í”¼ë¥¼ ì œê³µí•˜ê¸° ìœ„í•´
- How:
  ```css
  /* styles.css */
  @font-face {
    font-family: "CustomFont";
    src: url("custom-font.woff2") format("woff2");

    /*
  	  font-display: swapì„ ì‚¬ìš©í•˜ì—¬ í°íŠ¸ê°€ ë¡œë“œë˜ëŠ” ë™ì•ˆ ì‹œìŠ¤í…œ í°íŠ¸ë¥¼ í‘œì‹œí•˜ê³ ,
  	  FontFace APIë¥¼ ì‚¬ìš©í•˜ì—¬ í°íŠ¸ ë¡œë”©ì„ í”„ë¡œê·¸ë˜ë§¤í‹±í•˜ê²Œ ì œì–´í•©ë‹ˆë‹¤.
  	  ì´ë¥¼ í†µí•´ í…ìŠ¤íŠ¸ê°€ ë³´ì´ì§€ ì•ŠëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê³  ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  	*/
    font-display: swap;
  }

  body {
    font-family: "CustomFont", Arial, sans-serif;
  }
  ```
  ```jsx
  // font-loader.js
  if ("fonts" in document) {
    const font = new FontFace("CustomFont", "url(custom-font.woff2)");
    font.load().then(() => {
      document.fonts.add(font);
      document.body.classList.add("fonts-loaded");
    });
  }
  ```
  1. font-display ì†ì„± ìµœì í™” (swap, optional, fallback ë“±)
  2. FontFace APIë¥¼ ì‚¬ìš©í•œ í”„ë¡œê·¸ë˜ë§¤í‹± í°íŠ¸ ë¡œë”©
  3. ë¡œì»¬ í°íŠ¸ì™€ ìœ ì‚¬í•œ í´ë°± í°íŠ¸ ì§€ì •
  4. FOFT(Flash of Faux Text) ê¸°ë²• ì ìš©
- Result:
  1. ì‚¬ìš©ìê°€ ì¸ì§€í•˜ëŠ” í°íŠ¸ ë³€ê²½ ê¹œë¹¡ì„ í˜„ìƒ ê°ì†Œ
  2. ì´ˆê¸° ì»¨í…ì¸  ê°€ì‹œì„± í–¥ìƒ
  3. ì¼ê´€ëœ íƒ€ì´í¬ê·¸ë˜í”¼ë¡œ ì¸í•œ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ì°¸ê³ ìë£Œ

- CSS-Tricks: FOUT, FOIT, FOFT (https://css-tricks.com/fout-foit-foft/)
- web.dev: Avoid invisible text during font loading (https://web.dev/avoid-invisible-text/)

---

## ì´ë²¤íŠ¸ ìœ„ì„(Event Delegation) ìµœì í™” ì‚¬ë¡€

### AS-IS

ë§ì€ ìˆ˜ì˜ ìš”ì†Œì— ê°œë³„ì ìœ¼ë¡œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆë¥¼ ì¶”ê°€í•˜ì—¬ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ë†’ê³  ì„±ëŠ¥ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```html
<div id="product-list">
  <!-- 100ê°œ ì´ìƒì˜ ìƒí’ˆ ì¹´ë“œ -->
  <div class="product-card" data-product-id="1">
    <h3>ìƒí’ˆ 1</h3>
    <p>ê°€ê²©: 10,000ì›</p>
    <button class="add-to-cart">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
  </div>
  <div class="product-card" data-product-id="2">
    <h3>ìƒí’ˆ 2</h3>
    <p>ê°€ê²©: 20,000ì›</p>
    <button class="add-to-cart">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
  </div>
  <!-- ... 100ê°œ ì´ìƒì˜ ë¹„ìŠ·í•œ ìƒí’ˆ ì¹´ë“œë“¤ ... -->
</div>
```

```jsx
// ëª¨ë“  "ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°" ë²„íŠ¼ì— ê°œë³„ì ìœ¼ë¡œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
const addToCartButtons = document.querySelectorAll(".add-to-cart");

addToCartButtons.forEach((button) => {
  button.addEventListener("click", function () {
    const productId = this.closest(".product-card").dataset.productId;
    addToCart(productId);
  });
});

function addToCart(productId) {
  console.log(`ìƒí’ˆ ${productId}ë¥¼ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤.`);
  // ì‹¤ì œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ë¡œì§...
}
```

### TO-BE

ì´ë²¤íŠ¸ ìœ„ì„ íŒ¨í„´ì„ ì ìš©í•˜ì—¬ ì´ë²¤íŠ¸ í•¸ë“¤ë§ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ê³  ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í•˜ê¸° ìœ„í•´
- How:
  ```jsx
  // ìƒí’ˆ ëª©ë¡ ì»¨í…Œì´ë„ˆì— ë‹¨ì¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
  const productList = document.getElementById("product-list");

  productList.addEventListener("click", function (event) {
    if (event.target.classList.contains("add-to-cart")) {
      const productId = event.target.closest(".product-card").dataset.productId;
      addToCart(productId);
    }
  });

  function addToCart(productId) {
    console.log(`ìƒí’ˆ ${productId}ë¥¼ ì¥ë°”êµ¬ë‹ˆì— ë‹´ì•˜ìŠµë‹ˆë‹¤.`);
    // ì‹¤ì œ ì¥ë°”êµ¬ë‹ˆ ì¶”ê°€ ë¡œì§...
  }

  // ë™ì ìœ¼ë¡œ ìƒˆ ìƒí’ˆ ì¶”ê°€ (ì˜ˆì‹œ)
  function addNewProduct(productId, name, price) {
    const newCard = document.createElement("div");
    newCard.className = "product-card";
    newCard.dataset.productId = productId;
    newCard.innerHTML = `
      <h3>${name}</h3>
      <p>ê°€ê²©: ${price}ì›</p>
      <button class="add-to-cart">ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸°</button>
    `;
    productList.appendChild(newCard);
  }

  // ìƒˆ ìƒí’ˆ ì¶”ê°€ ì˜ˆì‹œ
  addNewProduct(101, "ìƒˆ ìƒí’ˆ", 30000);
  ```
  1. ê³µí†µ ë¶€ëª¨ ìš”ì†Œì— ë‹¨ì¼ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€
  2. event.targetì„ ì‚¬ìš©í•˜ì—¬ ì‹¤ì œ ì´ë²¤íŠ¸ê°€ ë°œìƒí•œ ìš”ì†Œ ì‹ë³„
  3. ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¡œì§ì— ì¡°ê±´ë¬¸ ì¶”ê°€í•˜ì—¬ íŠ¹ì • ìš”ì†Œë§Œ ì²˜ë¦¬
  4. í•„ìš”í•œ ê²½ìš° event.stopPropagation() ì‚¬ìš©í•˜ì—¬ ì´ë²¤íŠ¸ ì „íŒŒ ì œì–´
- Result:
  1. ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ìˆ˜ ê°ì†Œ
  2. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì ˆê°
  3. ë™ì ìœ¼ë¡œ ì¶”ê°€ë˜ëŠ” ìš”ì†Œë“¤ì˜ ì´ë²¤íŠ¸ ì²˜ë¦¬ ìš©ì´ì„± ì¦ê°€

### ì°¸ê³ ìë£Œ

- MDN: Event delegation (https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_delegation)
- [JavaScript.info](http://javascript.info/): Event delegation (https://javascript.info/event-delegation)
- ì°¸ê³ ë¡œ ë¦¬ì•¡íŠ¸ëŠ” ì´ë²¤íŠ¸ë¥¼ ë‹¤ ì´ë²¤íŠ¸ ìœ„ì„ ë°©ì‹ìœ¼ë¡œ ê´€ë¦¬í•˜ê³  ìˆìŠµë‹ˆë‹¤.
  [Reactì—ì„œëŠ” ì´ë²¤íŠ¸ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ê³  ìˆì„ê¹Œ?](https://puki4416blog.netlify.app/how-to-react-event-handle/)

---

## ì´ë¯¸ì§€ ìµœì í™” ì‚¬ë¡€ Case 1

### AS-IS

ëŒ€ìš©ëŸ‰ ì´ë¯¸ì§€ë¥¼ í•œ ë²ˆì— ë¡œë”©í•˜ì—¬ ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œê°„ì´ ê¸¸ê³  ì‚¬ìš©ì ê²½í—˜ì´ ì¢‹ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.

### TO-BE

í”„ë¡œê·¸ë ˆì‹œë¸Œ ì´ë¯¸ì§€ ë¡œë”© ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê³  ë¡œë”© ì„±ëŠ¥ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  ì‚¬ìš©ìì—ê²Œ ì‹œê°ì  í”¼ë“œë°±ì„ ë¹ ë¥´ê²Œ ì œê³µí•˜ê¸° ìœ„í•´
- How:
  ```html
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>í”„ë¡œê·¸ë ˆì‹œë¸Œ ì´ë¯¸ì§€ ë¡œë”©</title>
      <style>
        .image-container {
          width: 100%;
          max-width: 800px;
          margin: 0 auto;
          aspect-ratio: 16/9;
        }
        .progressive-image {
          width: 100%;
          height: auto;
          transition: filter 0.3s ease-out;
        }
        .progressive-image[data-src] {
          filter: blur(10px);
        }
      </style>
    </head>
    <body>
      <div class="image-container">
        <img
          class="progressive-image"
          src="low-res-image.jpg"
          data-src="high-res-image.jpg"
          alt="ìƒ˜í”Œ ì´ë¯¸ì§€"
          width="1600"
          height="900"
        />
      </div>

      <script>
        function loadHighResImage(img) {
          const highResSource = img.dataset.src;
          if (highResSource) {
            img.src = highResSource;
            img.removeAttribute("data-src");
          }
        }

        const images = document.querySelectorAll(".progressive-image");
        images.forEach((img) => {
          const observer = new IntersectionObserver((entries) => {
            entries.forEach((entry) => {
              if (entry.isIntersecting) {
                loadHighResImage(entry.target);
                observer.unobserve(entry.target);
              }
            });
          });
          observer.observe(img);
        });
      </script>
    </body>
  </html>
  ```
  1. ì €í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ë¨¼ì € ë¡œë“œí•˜ì—¬ í”Œë ˆì´ìŠ¤í™€ë”ë¡œ ì‚¬ìš©
  2. ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¥¼ ë¹„ë™ê¸°ì ìœ¼ë¡œ ë¡œë“œ
  3. CSS blur íš¨ê³¼ë¥¼ ì‚¬ìš©í•˜ì—¬ ì €í•´ìƒë„ì—ì„œ ê³ í•´ìƒë„ë¡œì˜ ì „í™˜ì„ ë¶€ë“œëŸ½ê²Œ ì²˜ë¦¬
  4. Intersection Observer APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë·°í¬íŠ¸ì— ì§„ì…í•œ ì´ë¯¸ì§€ë§Œ ë¡œë“œ
- Result:
  1. ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œê°„ ê°ì†Œ
  2. ì‚¬ìš©ìì˜ ì¸ì§€ëœ ë¡œë”© ì†ë„ í–¥ìƒ
  3. ë°ì´í„° ì‚¬ìš©ëŸ‰ ìµœì í™”ë¡œ ëª¨ë°”ì¼ ì‚¬ìš©ì ê²½í—˜ ê°œì„ 

### ì°¸ê³ ìë£Œ

- web.dev: Lazy loading images (https://web.dev/lazy-loading-images/)
- CSS-Tricks: Progressive Image Loading (https://css-tricks.com/the-complete-guide-to-lazy-loading-images/)

---

## ì´ë¯¸ì§€ ìµœì í™” ì‚¬ë¡€ Case 2

### AS-IS

ëŒ€ìš©ëŸ‰ ì´ë¯¸ì§€ íŒŒì¼ë“¤ì„ ìµœì í™” ì—†ì´ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•˜ì—¬ í˜ì´ì§€ ë¡œë”© ì†ë„ê°€ ëŠë¦¬ê³  ëª¨ë°”ì¼ ì‚¬ìš©ìì˜ ë°ì´í„° ì†Œë¹„ê°€ ë§ì•˜ìŠµë‹ˆë‹¤.

```jsx
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Image Gallery</title>
    <style>
        .image-container img {
            width: 100%;
            max-width: 800px;
            height: auto;
        }
    </style>
</head>
<body>
    <div class="image-container">
        <img src="large-image1.jpg" alt="Description 1">
        <img src="large-image2.jpg" alt="Description 2">
        <img src="large-image3.jpg" alt="Description 3">
        <!-- ë” ë§ì€ ì´ë¯¸ì§€ë“¤... -->
    </div>

    <script>
        // ì•„ë¬´ëŸ° ìµœì í™” ë¡œì§ ì—†ìŒ
    </script>
</body>
</html>
```

### TO-BE

ë‹¤ì–‘í•œ ì´ë¯¸ì§€ ìµœì í™” ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ì´ë¯¸ì§€ ë¡œë”© ì†ë„ì™€ í’ˆì§ˆì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

- Why: í˜ì´ì§€ ë¡œë”© ì†ë„ë¥¼ ê°œì„ í•˜ê³  ëª¨ë°”ì¼ ì‚¬ìš©ìì˜ ë°ì´í„° ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ê¸° ìœ„í•´
- How:
  ```html
  <!DOCTYPE html>
  <html lang="en">
    <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Optimized Image Gallery</title>
      <style>
        .image-container img {
          width: 100%;
          max-width: 800px;
          height: auto;
        }
        .lazy-image {
          opacity: 0;
          transition: opacity 0.3s;
        }
        .lazy-image.loaded {
          opacity: 1;
        }
      </style>
    </head>
    <body>
      <div class="image-container">
        <picture>
          <source
            srcset="image1-small.webp 400w, image1-medium.webp 800w, image1-large.webp 1200w"
            sizes="(max-width: 400px) 100vw, (max-width: 800px) 50vw, 800px"
            type="image/webp"
          />
          <source
            srcset="image1-small.jpg 400w, image1-medium.jpg 800w, image1-large.jpg 1200w"
            sizes="(max-width: 400px) 100vw, (max-width: 800px) 50vw, 800px"
            type="image/jpeg"
          />
          <img
            src="image1-placeholder.jpg"
            data-src="image1-medium.jpg"
            alt="Description 1"
            class="lazy-image"
          />
        </picture>
        <!-- ë” ë§ì€ ìµœì í™”ëœ ì´ë¯¸ì§€ë“¤... -->
      </div>

      <script>
        // ë ˆì´ì§€ ë¡œë”© êµ¬í˜„
        document.addEventListener("DOMContentLoaded", () => {
          const lazyImages = [...document.querySelectorAll("img.lazy-image")];

          const lazyImageObserver = new IntersectionObserver(function (entries, observer) {
            entries.forEach(function (entry) {
              if (entry.isIntersecting) {
                const { target } = entry;
                target.src = lazyImage.dataset.src;
                target.classList.add("loaded");
                lazyImageObserver.unobserve(target);
              }
            });
          });

          lazyImages.forEach((target) => {
            lazyImageObserver.observe(target);
          });
        });
      </script>
    </body>
  </html>
  ```
  - ì§€ì—° ë¡œë”© (Lazy Loading): Intersection Observer APIë¥¼ ì‚¬ìš©í•˜ì—¬ ë·°í¬íŠ¸ì— ê°€ê¹Œì›Œì§ˆ ë•Œë§Œ ì´ë¯¸ì§€ë¥¼ ë¡œë“œ
  - ë°˜ì‘í˜• ì´ë¯¸ì§€: CSS `background-image`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ í¬ê¸°ë¥¼ ìœ ì—°í•˜ê²Œ ì¡°ì ˆ
  - WebP í˜•ì‹ ì§€ì›: ë¸Œë¼ìš°ì €ê°€ ì§€ì›í•˜ëŠ” ê²½ìš° WebP í˜•ì‹ì˜ ì´ë¯¸ì§€ë¥¼ ìš°ì„ ì ìœ¼ë¡œ ë¡œë“œ
  - í”Œë ˆì´ìŠ¤í™€ë” ì‚¬ìš©: ì´ë¯¸ì§€ê°€ ë¡œë“œë˜ê¸° ì „ì— SVG í”Œë ˆì´ìŠ¤í™€ë”ë¥¼ í‘œì‹œí•˜ì—¬ ë ˆì´ì•„ì›ƒ ì‹œí”„íŠ¸ë¥¼ ë°©ì§€
  - ì ì§„ì  ë¡œë”©: ì €í•´ìƒë„ í”Œë ˆì´ìŠ¤í™€ë”ì—ì„œ ê³ í•´ìƒë„ ì´ë¯¸ì§€ë¡œ ìì—°ìŠ¤ëŸ½ê²Œ ì „í™˜
- Result:
  1. í˜ì´ì§€ ë¡œë“œ ì‹œê°„ ê°ì†Œ
  2. ì´ë¯¸ì§€ ê´€ë ¨ ë°ì´í„° ì „ì†¡ëŸ‰ ê°ì†Œ
  3. ëª¨ë°”ì¼ ì‚¬ìš©ìì˜ ì´íƒˆë¥  ê°ì†Œ

### ì°¸ê³ ìë£Œ

- web.dev: Optimize your images (https://web.dev/fast/#optimize-your-images)
- MDN: Responsive images (https://developer.mozilla.org/en-US/docs/Learn/HTML/Multimedia_and_embedding/Responsive_images)

---

## ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í™œìš©í•œ ìƒíƒœ ì§€ì†ì„± ìµœì í™” ì‚¬ë¡€

### AS-IS

í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œ ëª¨ë“  ìƒíƒœê°€ ì´ˆê¸°í™”ë˜ì–´ ì‚¬ìš©ì ê²½í—˜ì´ ë‹¨ì ˆë˜ê³  ë¶ˆí•„ìš”í•œ API í˜¸ì¶œì´ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

```jsx
let cart = [];

function addToCart(productId) {
  // APIë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒí’ˆ ì •ë³´ë¥¼ ê°€ì ¸ì˜´
  fetch(`/api/products/${productId}`)
    .then((response) => response.json())
    .then((product) => {
      cart.push(product);
      updateCartUI();
    });
}

function removeFromCart(productId) {
  cart = cart.filter((item) => item.id !== productId);
  updateCartUI();
}

function updateCartUI() {
  const cartElement = document.getElementById("cart");
  cartElement.innerHTML = cart
    .map(
      (item) => `
    <li>
      ${item.name} - $${item.price}
      <button onclick="removeFromCart(${item.id})">Remove</button>
    </li>
  `
    )
    .join("");
}

// í˜ì´ì§€ ë¡œë“œ ì‹œ ì¥ë°”êµ¬ë‹ˆ UI ì—…ë°ì´íŠ¸
updateCartUI();
```

### TO-BE

ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í™œìš©í•˜ì—¬ ì¤‘ìš” ìƒíƒœë¥¼ ìœ ì§€í•˜ê³  í•„ìš”í•œ ë°ì´í„°ë§Œ ì„œë²„ì—ì„œ ê°±ì‹ í•˜ë„ë¡ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ ì‹œì—ë„ ì¼ê´€ëœ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ê³  ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì„ ì¤„ì´ê¸° ìœ„í•´
- How:
  ```jsx
  let cart = [];

  function loadCart() {
    const savedCart = localStorage.getItem("cart");
    if (savedCart) {
      cart = JSON.parse(savedCart);
      updateCartUI();
    }
  }

  function saveCart() {
    localStorage.setItem("cart", JSON.stringify(cart));
  }

  function addToCart(productId) {
    // ë¨¼ì € ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ë¥¼ í™•ì¸
    const existingProduct = cart.find((item) => item.id === productId);
    if (existingProduct) {
      existingProduct.quantity += 1;
      saveCart();
      updateCartUI();
    } else {
      // APIë¥¼ í˜¸ì¶œí•˜ì—¬ ìƒˆë¡œìš´ ìƒí’ˆ ì •ë³´ë§Œ ê°€ì ¸ì˜´
      fetch(`/api/products/${productId}`)
        .then((response) => response.json())
        .then((product) => {
          cart.push({ ...product, quantity: 1 });
          saveCart();
          updateCartUI();
        });
    }
  }

  function removeFromCart(productId) {
    cart = cart.filter((item) => item.id !== productId);
    saveCart();
    updateCartUI();
  }

  function updateCartUI() {
    const cartElement = document.getElementById("cart");
    cartElement.innerHTML = cart
      .map(
        (item) => `
      <li>
        ${item.name} - $${item.price} x ${item.quantity}
        <button onclick="removeFromCart(${item.id})">Remove</button>
      </li>
    `
      )
      .join("");
  }

  // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì¥ë°”êµ¬ë‹ˆ ì •ë³´ ë¡œë“œ
  document.addEventListener("DOMContentLoaded", loadCart);

  // ì£¼ê¸°ì ìœ¼ë¡œ ì¹´íŠ¸ ë°ì´í„° ì„œë²„ì™€ ë™ê¸°í™” (ì„ íƒì )
  function syncCartWithServer() {
    fetch("/api/sync-cart", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(cart),
    })
      .then((response) => response.json())
      .then((updatedCart) => {
        cart = updatedCart;
        saveCart();
        updateCartUI();
      });
  }

  // ì˜ˆ: 5ë¶„ë§ˆë‹¤ ì„œë²„ì™€ ë™ê¸°í™”
  setInterval(syncCartWithServer, 5 * 60 * 1000);

  /*
  ì£¼ì˜ì‚¬í•­:
  - ë¯¼ê°í•œ ì •ë³´ëŠ” ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥í•˜ì§€ ì•Šë„ë¡ ì£¼ì˜í•´ì•¼ í•©ë‹ˆë‹¤.
  - ë¸Œë¼ìš°ì €ì˜ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ ìš©ëŸ‰ ì œí•œ(ë³´í†µ 5-10MB)ì„ ê³ ë ¤í•´ì•¼ í•©ë‹ˆë‹¤.
  - ì—¬ëŸ¬ ê¸°ê¸° ê°„ ë™ê¸°í™”ê°€ í•„ìš”í•œ ê²½ìš°, ì¶”ê°€ì ì¸ ì„œë²„ ë™ê¸°í™” ë¡œì§ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  */
  ```
  1. ì¤‘ìš” ìƒíƒœ ë°ì´í„°ë¥¼ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
  2. í˜ì´ì§€ ë¡œë“œ ì‹œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì˜ ë°ì´í„°ë¥¼ ë¨¼ì € í™•ì¸í•˜ì—¬ ìƒíƒœ ì´ˆê¸°í™”
  3. ë°±ê·¸ë¼ìš´ë“œì—ì„œ í•„ìš”í•œ ë°ì´í„°ë§Œ ì„œë²„ì™€ ë™ê¸°í™”
  4. ë°ì´í„° ë§Œë£Œ ì‹œê°„ ì„¤ì •ìœ¼ë¡œ ì˜¤ë˜ëœ ë°ì´í„° ìë™ ê°±ì‹ 
- Result:
  1. í˜ì´ì§€ ìƒˆë¡œê³ ì¹¨ í›„ ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•
  2. ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ ê°ì†Œ
  3. ì˜¤í”„ë¼ì¸ ìƒíƒœì—ì„œë„ ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ ì‚¬ìš© ê°€ëŠ¥

### ì°¸ê³ ìë£Œ

- MDN: Web Storage API (https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API)
- web.dev: Storage for the web (https://web.dev/storage-for-the-web/)

---

## CSS ì• ë‹ˆë©”ì´ì…˜ ì„±ëŠ¥ ìµœì í™” ì‚¬ë¡€

### AS-IS

JavaScriptë¥¼ ì‚¬ìš©í•œ ì• ë‹ˆë©”ì´ì…˜ìœ¼ë¡œ ì¸í•´ ë©”ì¸ ìŠ¤ë ˆë“œì— ë¶€í•˜ê°€ ê±¸ë¦¬ê³  ì„±ëŠ¥ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```html
<style>
  #animated-box {
    width: 100px;
    height: 100px;
    background-color: blue;
    position: absolute;
    left: 0;
    top: 0;
  }
</style>

<div id="animated-box"></div>

<script>
  const box = document.getElementById("animated-box");
  let position = 0;

  // leftì™€ top ì†ì„±ì˜ ë³€ê²½ì€ ë ˆì´ì•„ì›ƒ ë³€ê²½ì„ ìœ ë°œí•˜ì—¬ ì„±ëŠ¥ì— ì•…ì˜í–¥ì„ ë¯¸ì¹©ë‹ˆë‹¤.
  function animate() {
    position += 2;
    box.style.left = position + "px";
    box.style.top = position + "px";

    if (position < 300) {
      requestAnimationFrame(animate);
    }
  }

  animate();
</script>
```

### TO-BE

CSS ì• ë‹ˆë©”ì´ì…˜ì„ í™œìš©í•˜ì—¬ GPU ê°€ì†ì„ ì ìš©í•˜ê³  ì„±ëŠ¥ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: ë¶€ë“œëŸ¬ìš´ ì• ë‹ˆë©”ì´ì…˜ì„ ì œê³µí•˜ê³  CPU ì‚¬ìš©ëŸ‰ì„ ì¤„ì—¬ ì „ë°˜ì ì¸ ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´
- How:
  ```html
  <style>
    @keyframes moveBox {
      from {
        transform: translate(0, 0);
      }
      to {
        transform: translate(300px, 300px);
      }
    }

    #animated-box {
      width: 100px;
      height: 100px;
      background-color: blue;
      position: absolute;
      left: 0;
      top: 0;
      animation: moveBox 2s linear forwards;
      will-change: transform;
    }
  </style>

  <div id="animated-box"></div>

  <!-- JavaScript ì½”ë“œê°€ í•„ìš” ì—†ì–´ì¡ŒìŠµë‹ˆë‹¤! -->
  ```
- how
  1. GPU ê°€ì†: `transform` ì†ì„±ì„ ì‚¬ìš©í•˜ì—¬ GPU ê°€ì†ì„ í™œìš©í•©ë‹ˆë‹¤. ì´ëŠ” `left`ì™€ `top`ì„ ë³€ê²½í•˜ëŠ” ê²ƒë³´ë‹¤ í›¨ì”¬ íš¨ìœ¨ì ì…ë‹ˆë‹¤.
  2. ë©”ì¸ ìŠ¤ë ˆë“œ ë¶€í•˜ ê°ì†Œ: ì• ë‹ˆë©”ì´ì…˜ì´ CSSì— ì˜í•´ ì²˜ë¦¬ë˜ë¯€ë¡œ JavaScript ì‹¤í–‰ìœ¼ë¡œ ì¸í•œ ë©”ì¸ ìŠ¤ë ˆë“œ ë¶€í•˜ê°€ ì—†ìŠµë‹ˆë‹¤.
  3. ì„ ì–¸ì  ì •ì˜: ì• ë‹ˆë©”ì´ì…˜ì˜ ì‹œì‘ê³¼ ë ìƒíƒœë¥¼ ëª…í™•í•˜ê²Œ ì •ì˜í•˜ì—¬ ì½”ë“œì˜ ê°€ë…ì„±ì´ í–¥ìƒë©ë‹ˆë‹¤.
  4. `will-change` ì†ì„±: ë¸Œë¼ìš°ì €ì—ê²Œ ë³€í™”í•  ì†ì„±ì„ ë¯¸ë¦¬ ì•Œë ¤ì¤Œìœ¼ë¡œì¨ ìµœì í™”ë¥¼ ìœ ë„í•©ë‹ˆë‹¤.
- ì¶”ê°€ì ì¸ ìµœì í™” íŒ:
  1. ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ì˜ ê²½ìš°, `opacity`ì™€ `transform` ì†ì„±ë§Œì„ ì• ë‹ˆë©”ì´ì…˜í™”í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤.
  2. ì• ë‹ˆë©”ì´ì…˜ì´ í•„ìš” ì—†ëŠ” ìš”ì†Œì—ëŠ” `pointer-events: none`ì„ ì ìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ì´ë²¤íŠ¸ ì²˜ë¦¬ë¥¼ ë°©ì§€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  3. 3D ë³€í˜•ì„ ì‚¬ìš©í•˜ë©´(`transform: translate3d(0,0,0)`) ê°•ì œë¡œ GPU ê°€ì†ì„ í™œì„±í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë‚¨ìš©ì€ í”¼í•´ì•¼ í•©ë‹ˆë‹¤.

<aside>
ğŸ’¡ ì´ëŸ¬í•œ CSS ê¸°ë°˜ ì• ë‹ˆë©”ì´ì…˜ ì ‘ê·¼ ë°©ì‹ì€ íŠ¹íˆ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ í›¨ì”¬ ë¶€ë“œëŸ¬ìš´ ì„±ëŠ¥ì„ ì œê³µí•˜ë©°, ë°°í„°ë¦¬ ì†Œëª¨ë„ ì¤„ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë³µì¡í•œ ì• ë‹ˆë©”ì´ì…˜ì´ ë§ì€ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì´ëŸ¬í•œ ìµœì í™”ëŠ” ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

</aside>

### ì°¸ê³ ìë£Œ

- MDN: CSS animations (https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations)
- web.dev: Animations and performance (https://web.dev/animations-and-performance/)

---

## ë©”ëª¨ì´ì œì´ì…˜ì„ í†µí•œ ë¶ˆí•„ìš”í•œ ë Œë”ë§ ìµœì†Œí™” ì‚¬ë¡€ (React)

### AS-IS

ëŒ€ê·œëª¨ React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ë¹ˆë²ˆí•˜ê²Œ ë°œìƒí•˜ì—¬ ì„±ëŠ¥ ì €í•˜ì˜ ì›ì¸ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

```jsx
// App.js
import React, { useState } from "react";
import ProductList from "./ProductList";
import Cart from "./Cart";

function App() {
  const [products, setProducts] = useState([
    { id: 1, name: "ìƒí’ˆ 1", price: 10000 },
    { id: 2, name: "ìƒí’ˆ 2", price: 20000 },
    // ... ë” ë§ì€ ìƒí’ˆë“¤
  ]);
  const [cart, setCart] = useState([]);

  const addToCart = (productId) => {
    const product = products.find((p) => p.id === productId);
    setCart([...cart, product]);
  };

  return (
    <div>
      <ProductList products={products} addToCart={addToCart} />
      <Cart items={cart} />
    </div>
  );
}

// ProductList.js
import React from "react";
import ProductItem from "./ProductItem";

function ProductList({ products, addToCart }) {
  return (
    <div>
      {products.map((product) => (
        <ProductItem key={product.id} product={product} addToCart={addToCart} />
      ))}
    </div>
  );
}

// ProductItem.js
import React from "react";

function ProductItem({ product, addToCart }) {
  console.log(`Rendering ProductItem: ${product.name}`);
  return (
    <div>
      <h3>{product.name}</h3>
      <p>ê°€ê²©: {product.price}ì›</p>
      <button onClick={() => addToCart(product.id)}>ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€</button>
    </div>
  );
}

export default ProductItem;
```

- ì¥ë°”êµ¬ë‹ˆì— ìƒí’ˆì„ ì¶”ê°€í•  ë•Œë§ˆë‹¤ ëª¨ë“  `ProductItem` ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë©ë‹ˆë‹¤.
- `addToCart` í•¨ìˆ˜ê°€ ë§¤ ë Œë”ë§ë§ˆë‹¤ ìƒˆë¡œ ìƒì„±ë˜ì–´ ìì‹ ì»´í¬ë„ŒíŠ¸ì˜ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ìœ ë°œí•©ë‹ˆë‹¤.

### TO-BE

Reactì˜ ë©”ëª¨ì´ì œì´ì…˜ ê¸°ëŠ¥ì„ í™œìš©í•˜ì—¬ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤.

- Why: ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°˜ì‘ ì†ë„ë¥¼ ê°œì„ í•˜ê³  CPU ì‚¬ìš©ëŸ‰ì„ ì¤„ì´ê¸° ìœ„í•´
- How:
  ```jsx
  // App.js
  import React, { useState, useCallback } from "react";
  import ProductList from "./ProductList";
  import Cart from "./Cart";

  function App() {
    const [products, setProducts] = useState([
      { id: 1, name: "ìƒí’ˆ 1", price: 10000 },
      { id: 2, name: "ìƒí’ˆ 2", price: 20000 },
      // ... ë” ë§ì€ ìƒí’ˆë“¤
    ]);
    const [cart, setCart] = useState([]);

    const addToCart = useCallback(
      (productId) => {
        setCart((prevCart) => {
          const product = products.find((p) => p.id === productId);
          return [...prevCart, product];
        });
      },
      [products]
    );

    return (
      <div>
        <ProductList products={products} addToCart={addToCart} />
        <Cart items={cart} />
      </div>
    );
  }

  // ProductList.js
  import React, { useMemo } from "react";
  import ProductItem from "./ProductItem";

  function ProductList({ products, addToCart }) {
    const productItems = useMemo(
      () =>
        products.map((product) => (
          <ProductItem key={product.id} product={product} addToCart={addToCart} />
        )),
      [products, addToCart]
    );

    return <div>{productItems}</div>;
  }

  // ProductItem.js
  import React, { memo } from "react";

  const ProductItem = memo(({ product, addToCart }) => {
    console.log(`Rendering ProductItem: ${product.name}`);
    return (
      <div>
        <h3>{product.name}</h3>
        <p>ê°€ê²©: {product.price}ì›</p>
        <button onClick={() => addToCart(product.id)}>ì¥ë°”êµ¬ë‹ˆì— ì¶”ê°€</button>
      </div>
    );
  });

  export default ProductItem;
  ```
  1. `useCallback`ì„ ì‚¬ìš©í•˜ì—¬ `addToCart` í•¨ìˆ˜ë¥¼ ë©”ëª¨ì´ì œì´ì…˜í•©ë‹ˆë‹¤. ì´ë¡œ ì¸í•´ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.
  2. `ProductList` ì»´í¬ë„ŒíŠ¸ì—ì„œ `useMemo`ë¥¼ ì‚¬ìš©í•˜ì—¬ ìƒí’ˆ ëª©ë¡ì´ ë³€ê²½ë  ë•Œë§Œ ìì‹ ì»´í¬ë„ŒíŠ¸ë¥¼ ë‹¤ì‹œ ë Œë”ë§í•©ë‹ˆë‹¤.
  3. `ProductItem` ì»´í¬ë„ŒíŠ¸ë¥¼ `React.memo`ë¡œ ê°ì‹¸ propsê°€ ë³€ê²½ë  ë•Œë§Œ ë¦¬ë Œë”ë§ë˜ë„ë¡ í•©ë‹ˆë‹¤.
- Result:
  1. ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ íšŸìˆ˜ ê°ì†Œ
  2. CPU ì‚¬ìš©ëŸ‰ ê°ì†Œ (ëŒ€ì‹  ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ì¦ê°€)

### ì°¸ê³ ìë£Œ

- React ê³µì‹ ë¬¸ì„œ: Memoizing Components (https://reactjs.org/docs/react-api.html#reactmemo)
- React ê³µì‹ ë¬¸ì„œ: Hooks API Reference (https://reactjs.org/docs/hooks-reference.html)

---

## ìƒíƒœ ê´€ë¦¬ ìµœì í™” ì‚¬ë¡€ (React)

### AS-IS

ëŒ€ê·œëª¨ React ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ ì „ì—­ ìƒíƒœ ê´€ë¦¬ê°€ ë¹„íš¨ìœ¨ì ì´ì–´ì„œ ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì´ ìì£¼ ë°œìƒí–ˆìŠµë‹ˆë‹¤.

### TO-BE

ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ ìµœì í™” ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ë¦¬ë Œë”ë§ì„ ìµœì†Œí™”í•˜ê³  ì• í”Œë¦¬ì¼€ì´ì…˜ ì„±ëŠ¥ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

- Why: ë¶ˆí•„ìš”í•œ ë¦¬ë Œë”ë§ì„ ì¤„ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ë°˜ì‘ì„±ì„ ë†’ì´ê³  ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´
- How:
  1. Redux ëŒ€ì‹  Recoilì´ë‚˜ Jotai ê°™ì€ ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ë„ì…
  2. ìƒíƒœë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„ë¦¬í•˜ì—¬ ê´€ë¦¬ (Atomic íŒ¨í„´ ì ìš©)
  3. useSelector í›… ì‚¬ìš© ì‹œ ë©”ëª¨ì´ì œì´ì…˜ ì ìš©
  4. ìƒíƒœ ë³€ê²½ ì‹œ ë¶ˆë³€ì„±ì„ ì§€í‚¤ë©° ì—…ë°ì´íŠ¸í•˜ëŠ” ë¡œì§ êµ¬í˜„
- Result:
  1. ì»´í¬ë„ŒíŠ¸ ë¦¬ë Œë”ë§ íšŸìˆ˜ 50% ê°ì†Œ
  2. ìƒíƒœ ì—…ë°ì´íŠ¸ ì‹œ ë°˜ì‘ ì†ë„ 40% ê°œì„ 
  3. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ 20% ì ˆê°

### ì°¸ê³ ìë£Œ

- Recoil ê³µì‹ ë¬¸ì„œ: https://recoiljs.org/
- Redux ê³µì‹ ë¬¸ì„œ: https://redux.js.org/tutorials/essentials/part-6-performance-normalization

---

## ì¸í„°ì„¹ì…˜ ì˜µì €ë²„ë¥¼ í™œìš©í•œ ìŠ¤í¬ë¡¤ ì„±ëŠ¥ ìµœì í™” ì‚¬ë¡€

### AS-IS

ê¸´ ìŠ¤í¬ë¡¤ í˜ì´ì§€ì—ì„œ ëª¨ë“  ìš”ì†Œë¥¼ í•œ ë²ˆì— ë Œë”ë§í•˜ì—¬ ì´ˆê¸° ë¡œë”©ì´ ëŠë¦¬ê³  ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì´ ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```jsx
import React from "react";

const LongScrollPage = () => {
  const items = Array.from({ length: 1000 }, (_, index) => ({
    id: index,
    title: `Item ${index}`,
    image: `https://via.placeholder.com/150?text=Image${index}`,
  }));

  return (
    <div className='long-scroll-page'>
      {items.map((item) => (
        <div key={item.id} className='item'>
          <h2>{item.title}</h2>
          <img src={item.image} alt={item.title} />
          <p>Some description for {item.title}</p>
        </div>
      ))}
    </div>
  );
};

export default LongScrollPage;
```

### TO-BE

Intersection Observer APIë¥¼ í™œìš©í•˜ì—¬ ë·°í¬íŠ¸ì— ìˆëŠ” ìš”ì†Œë§Œ ë Œë”ë§í•˜ë„ë¡ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: ì´ˆê¸° ë Œë”ë§ ì†ë„ë¥¼ ë†’ì´ê³  ìŠ¤í¬ë¡¤ ì‹œ ë¶€ë“œëŸ¬ìš´ ì‚¬ìš©ì ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•´
- How:
  ```jsx
  import React, { useState, useEffect, useRef } from "react";

  // ë²”ìš© LazyLoad ì»´í¬ë„ŒíŠ¸
  const LazyLoad = ({ children, placeholder }) => {
    const [isVisible, setIsVisible] = useState(false);
    const ref = useRef(null);

    useEffect(() => {
      const observer = new IntersectionObserver(
        ([entry]) => {
          if (entry.isIntersecting) {
            setIsVisible(true);
            observer.disconnect();
          }
        },
        { rootMargin: "100px" }
      );

      if (ref.current) {
        observer.observe(ref.current);
      }

      return () => {
        if (ref.current) {
          observer.unobserve(ref.current);
        }
      };
    }, []);

    return <div ref={ref}>{isVisible ? children : placeholder}</div>;
  };

  // ì•„ì´í…œ ì»´í¬ë„ŒíŠ¸
  const Item = ({ title, image, description }) => (
    <div className='item'>
      <h2>{title}</h2>
      <img src={image} alt={title} />
      <p>{description}</p>
    </div>
  );

  // ë©”ì¸ ì»´í¬ë„ŒíŠ¸
  const LongScrollPage = () => {
    const items = Array.from({ length: 1000 }, (_, index) => ({
      id: index,
      title: `Item ${index}`,
      image: `https://via.placeholder.com/150?text=Image${index}`,
      description: `Description for Item ${index}`,
    }));

    return (
      <div className='long-scroll-page'>
        {items.map((item) => (
          <LazyLoad
            key={item.id}
            placeholder={
              <div className='item-placeholder' style={{ height: "200px", background: "#f0f0f0" }}>
                Loading...
              </div>
            }
          >
            <Item title={item.title} image={item.image} description={item.description} />
          </LazyLoad>
        ))}
      </div>
    );
  };

  export default LongScrollPage;
  ```
  1. `IntersectionObserver`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê° ì•„ì´í…œì˜ ê°€ì‹œì„±ì„ ì¶”ì í•©ë‹ˆë‹¤.
  2. ë·°í¬íŠ¸ ë°–ì˜ ìš”ì†ŒëŠ” í”Œë ˆì´ìŠ¤í™€ë”ë¡œ ëŒ€ì²´ë©ë‹ˆë‹¤.
  3. ìš”ì†Œê°€ ë·°í¬íŠ¸ì— ì§„ì…í•  ë•Œ ì‹¤ì œ ì½˜í…ì¸ ë¡œ êµì²´ë©ë‹ˆë‹¤.
  4. ì´ë¯¸ì§€ì— `loading="lazy"` ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ë¸Œë¼ìš°ì €ì˜ ë„¤ì´í‹°ë¸Œ ì´ë¯¸ì§€ ì§€ì—° ë¡œë”©ì„ í™œìš©í•©ë‹ˆë‹¤.
- Result:
  1. ì´ˆê¸° ë Œë”ë§ ì†ë„ê°€ í¬ê²Œ í–¥ìƒë©ë‹ˆë‹¤. ì²˜ìŒì—ëŠ” ë·°í¬íŠ¸ ë‚´ì˜ ì•„ì´í…œë§Œ ë Œë”ë§ë©ë‹ˆë‹¤.
  2. ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ ì¤„ì–´ë“­ë‹ˆë‹¤. ì‹¤ì œ ì½˜í…ì¸ ëŠ” í•„ìš”í•  ë•Œë§Œ ë Œë”ë§ë©ë‹ˆë‹¤.
  3. ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì´ ê°œì„ ë©ë‹ˆë‹¤. ë Œë”ë§ë˜ëŠ” ì‹¤ì œ DOM ìš”ì†Œì˜ ìˆ˜ê°€ ì¤„ì–´ë“­ë‹ˆë‹¤.
  4. ì‚¬ìš©ì ê²½í—˜ì´ í–¥ìƒë©ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì´ ë¶€ë“œëŸ¬ì›Œì§€ê³ , ì½˜í…ì¸ ê°€ ìì—°ìŠ¤ëŸ½ê²Œ ë¡œë“œë©ë‹ˆë‹¤.
- ì£¼ì˜í•  ì :
  - SEOë¥¼ ê³ ë ¤í•´ì•¼ í•˜ëŠ” ê²½ìš°, ì„œë²„ ì‚¬ì´ë“œ ë Œë”ë§ê³¼ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.
  - ë„¤íŠ¸ì›Œí¬ ìš”ì²­ì´ ë§ì•„ì§ˆ ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì ì ˆí•œ ìºì‹± ì „ëµì„ í•¨ê»˜ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.

### ì°¸ê³ ìë£Œ

- MDN: Intersection Observer API (https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API)
- web.dev: Lazy loading images and video (https://web.dev/lazy-loading/)

---

## ê°€ìƒ ìŠ¤í¬ë¡¤ë§(Virtual Scrolling) êµ¬í˜„ ì‚¬ë¡€

### AS-IS

ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ í‘œì‹œí•  ë•Œ ëª¨ë“  í•­ëª©ì„ í•œ ë²ˆì— ë Œë”ë§í•˜ì—¬ ì´ˆê¸° ë¡œë”© ì†ë„ì™€ ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì´ ë§¤ìš° ì €í•˜ë˜ì—ˆìŠµë‹ˆë‹¤.

```jsx
import React from "react";

const LargeList = ({ items }) => {
  return (
    <div className='list-container'>
      {items.map((item) => (
        <div key={item.id} className='list-item'>
          <img src={item.avatar} alt={item.name} />
          <div>
            <h3>{item.name}</h3>
            <p>{item.email}</p>
          </div>
        </div>
      ))}
    </div>
  );
};

const App = () => {
  // 10,000ê°œì˜ ì•„ì´í…œì„ ê°€ì •
  const items = Array.from({ length: 10000 }, (_, index) => ({
    id: index,
    name: `User ${index}`,
    email: `user${index}@example.com`,
    avatar: `https://via.placeholder.com/50?text=${index}`,
  }));

  return <LargeList items={items} />;
};

export default App;
```

### TO-BE

ê°€ìƒ ìŠ¤í¬ë¡¤ë§ ê¸°ë²•ì„ ì ìš©í•˜ì—¬ í™”ë©´ì— ë³´ì´ëŠ” í•­ëª©ë§Œ ë Œë”ë§í•˜ë„ë¡ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

- Why: ëŒ€ëŸ‰ì˜ ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ í‘œì‹œí•˜ê³  ìŠ¤í¬ë¡¤ ì„±ëŠ¥ì„ ê°œì„ í•˜ê¸° ìœ„í•´
- How:
  ```jsx
  import React from "react";
  import { FixedSizeList as List } from "react-window";
  import AutoSizer from "react-virtualized-auto-sizer";

  const Row = ({ index, style, data }) => {
    const item = data[index];
    return (
      <div style={style} className='list-item'>
        <img src={item.avatar} alt={item.name} />
        <div>
          <h3>{item.name}</h3>
          <p>{item.email}</p>
        </div>
      </div>
    );
  };

  const VirtualList = ({ items }) => {
    return (
      <AutoSizer>
        {({ height, width }) => (
          <List
            height={height}
            itemCount={items.length}
            itemSize={80}
            width={width}
            itemData={items}
          >
            {Row}
          </List>
        )}
      </AutoSizer>
    );
  };

  const App = () => {
    // 10,000ê°œì˜ ì•„ì´í…œì„ ê°€ì •
    const items = Array.from({ length: 10000 }, (_, index) => ({
      id: index,
      name: `User ${index}`,
      email: `user${index}@example.com`,
      avatar: `https://via.placeholder.com/50?text=${index}`,
    }));

    return (
      <div style={{ height: "100vh" }}>
        <VirtualList items={items} />
      </div>
    );
  };

  export default App;
  ```
  1. `react-window` ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ `FixedSizeList` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°€ìƒ ìŠ¤í¬ë¡¤ë§ì„ êµ¬í˜„í•©ë‹ˆë‹¤.
  2. `AutoSizer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆì˜ í¬ê¸°ì— ë”°ë¼ ë¦¬ìŠ¤íŠ¸ í¬ê¸°ë¥¼ ìë™ìœ¼ë¡œ ì¡°ì •í•©ë‹ˆë‹¤.
  3. `Row` ì»´í¬ë„ŒíŠ¸ëŠ” ê° ì•„ì´í…œì„ ë Œë”ë§í•˜ëŠ” ë¡œì§ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤. ì´ ì»´í¬ë„ŒíŠ¸ëŠ” í•„ìš”í•  ë•Œë§Œ ë Œë”ë§ë©ë‹ˆë‹¤.
  4. `itemSize`ë¥¼ 80ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ê° ì•„ì´í…œì˜ ë†’ì´ë¥¼ ì§€ì •í•©ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš© ì‹œì—ëŠ” ì•„ì´í…œì˜ ì‹¤ì œ í¬ê¸°ì— ë§ê²Œ ì¡°ì •í•´ì•¼ í•©ë‹ˆë‹¤.
  5. ì „ì²´ ë¦¬ìŠ¤íŠ¸ì˜ ë†’ì´ë¥¼ ë·°í¬íŠ¸ ë†’ì´(`100vh`)ë¡œ ì„¤ì •í•˜ì—¬ ì „ì²´ í™”ë©´ì— ë§ì¶”ì—ˆìŠµë‹ˆë‹¤.

result:

- ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ ê°ì†Œ: í™”ë©´ì— ë³´ì´ëŠ” í•­ëª©ë§Œ ë Œë”ë§í•˜ë¯€ë¡œ ë©”ëª¨ë¦¬ ì‚¬ìš©ëŸ‰ì´ í¬ê²Œ ì¤„ì–´ë“­ë‹ˆë‹¤.
- ì´ˆê¸° ë Œë”ë§ ì‹œê°„ ë‹¨ì¶•: ì „ì²´ 10,000ê°œ í•­ëª©ì´ ì•„ë‹Œ í™”ë©´ì— ë³´ì´ëŠ” í•­ëª©ë§Œ ë Œë”ë§í•˜ë¯€ë¡œ ì´ˆê¸° ë¡œë”© ì†ë„ê°€ ë§¤ìš° ë¹¨ë¼ì§‘ë‹ˆë‹¤.
- ìŠ¤í¬ë¡¤ ì„±ëŠ¥ í–¥ìƒ: ìŠ¤í¬ë¡¤ ì‹œ ìƒˆë¡œìš´ í•­ëª©ì„ íš¨ìœ¨ì ìœ¼ë¡œ ë Œë”ë§í•˜ì—¬ ë¶€ë“œëŸ¬ìš´ ìŠ¤í¬ë¡¤ ê²½í—˜ì„ ì œê³µí•©ë‹ˆë‹¤.

### ì°¸ê³ ìë£Œ

- react-window ë¬¸ì„œ: https://react-window.vercel.app/
- web.dev: Virtualize large lists with react-window (https://web.dev/virtualize-long-lists-react-window/)

---

## í”„ë¦¬í˜ì¹­(Prefetching)ì„ í†µí•œ ë„¤ë¹„ê²Œì´ì…˜ ìµœì í™” ì‚¬ë¡€

### AS-IS

ì‚¬ìš©ìê°€ ë§í¬ë¥¼ í´ë¦­í•  ë•Œë§ˆë‹¤ ìƒˆë¡œìš´ í˜ì´ì§€ ë¦¬ì†ŒìŠ¤ë¥¼ ë¡œë“œí•˜ì—¬ í˜ì´ì§€ ì „í™˜ì´ ëŠë ¸ìŠµë‹ˆë‹¤.

```jsx
// App.js
import React from "react";
import { BrowserRouter as Router, Route, Link } from "react-router-dom";
import Home from "./components/Home";
import About from "./components/About";
import Contact from "./components/Contact";

function App() {
  return (
    <Router>
      <div>
        <nav>
          <ul>
            <li>
              <Link to='/'>Home</Link>
            </li>
            <li>
              <Link to='/about'>About</Link>
            </li>
            <li>
              <Link to='/contact'>Contact</Link>
            </li>
          </ul>
        </nav>

        <Route exact path='/' component={Home} />
        <Route path='/about' component={About} />
        <Route path='/contact' component={Contact} />
      </div>
    </Router>
  );
}

export default App;
```

### TO-BE

í”„ë¦¬í˜ì¹­ ê¸°ìˆ ì„ ë„ì…í•˜ì—¬ ì˜ˆìƒë˜ëŠ” ì‚¬ìš©ì í–‰ë™ì— ë”°ë¼ ë¦¬ì†ŒìŠ¤ë¥¼ ë¯¸ë¦¬ ë¡œë“œí•˜ë„ë¡ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

- Why: í˜ì´ì§€ ì „í™˜ ì†ë„ë¥¼ ê°œì„ í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì„ í–¥ìƒì‹œí‚¤ê¸° ìœ„í•´
- How:
  ```jsx
  // App.js
  import React, { useEffect } from "react";
  import { BrowserRouter as Router, Route, Link } from "react-router-dom";
  import { useInView } from "react-intersection-observer";

  const Home = React.lazy(() => import("./components/Home"));
  const About = React.lazy(() => import("./components/About"));
  const Contact = React.lazy(() => import("./components/Contact"));

  function PrefetchLink({ to, children }) {
    const [ref, inView] = useInView({
      triggerOnce: true,
      rootMargin: "200px",
    });

    useEffect(() => {
      if (inView) {
        const componentMap = {
          "/": () => import("./components/Home"),
          "/about": () => import("./components/About"),
          "/contact": () => import("./components/Contact"),
        };

        if (componentMap[to]) {
          componentMap[to]();
        }
      }
    }, [inView, to]);

    return (
      <Link ref={ref} to={to}>
        {children}
      </Link>
    );
  }

  function App() {
    useEffect(() => {
      // About í˜ì´ì§€ì˜ ì£¼ìš” ë¦¬ì†ŒìŠ¤ í”„ë¦¬í˜ì¹˜
      const resources = ["/static/js/about.chunk.js", "/static/css/about.chunk.css"];

      resources.forEach((resource) => {
        const link = document.createElement("link");
        link.rel = "prefetch";
        link.href = resource;
        document.head.appendChild(link);
      });
    }, []);

    return (
      <Router>
        <div>
          <nav>
            <ul>
              <li>
                <PrefetchLink to='/'>Home</PrefetchLink>
              </li>
              <li>
                <PrefetchLink to='/about'>About</PrefetchLink>
              </li>
              <li>
                <PrefetchLink to='/contact'>Contact</PrefetchLink>
              </li>
            </ul>
          </nav>

          <React.Suspense fallback={<div>Loading...</div>}>
            <Route exact path='/' component={Home} />
            <Route path='/about' component={About} />
            <Route path='/contact' component={Contact} />
          </React.Suspense>
        </div>
      </Router>
    );
  }

  export default App;
  ```
  1. <link rel="prefetch"> íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ì¤‘ìš” ë¦¬ì†ŒìŠ¤ í”„ë¦¬í˜ì¹˜
  2. Intersection Observerë¥¼ í™œìš©í•´ ë·°í¬íŠ¸ì— ë“¤ì–´ì˜¨ ë§í¬ì˜ ë¦¬ì†ŒìŠ¤ í”„ë¦¬í˜ì¹˜
  3. ì‚¬ìš©ì í–‰ë™ ë¶„ì„ì„ í†µí•´ ìì£¼ ë°©ë¬¸í•˜ëŠ” í˜ì´ì§€ ì˜ˆì¸¡ ë° í”„ë¦¬í˜ì¹˜
  4. Service Workerë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œì—ì„œ ë¦¬ì†ŒìŠ¤ í”„ë¦¬í˜ì¹˜ ë° ìºì‹±

     [Service Workerë¥¼ ì‚¬ìš©í•˜ì—¬ ë°±ê·¸ë¼ìš´ë“œì—ì„œ í”„ë¦¬í˜ì¹˜](https://www.notion.so/Service-Worker-2cd2dc3ef514813f9f64cdbaa60ff0b3?pvs=21)
- Result:
  1. í˜ì´ì§€ ì „í™˜ ì‹œê°„ í‰ê·  ê°ì†Œ
  2. ì‚¬ìš©ìì˜ ì²´ê° ë¡œë”© ì†ë„ í¬ê²Œ ê°œì„ 
  3. ë°”ìš´ìŠ¤ ë ˆì´íŠ¸ ê°ì†Œ
- ì£¼ì˜í•  ì :
  - í”„ë¦¬í˜ì¹˜í•  ë¦¬ì†ŒìŠ¤ì˜ ì •í™•í•œ ê²½ë¡œë¥¼ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. ì´ëŠ” ë³´í†µ ë¹Œë“œ í”„ë¡œì„¸ìŠ¤ í›„ì— ê²°ì •ë˜ë¯€ë¡œ, ë™ì ìœ¼ë¡œ ì´ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì„ ê³ ë ¤í•´ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
  - ë„ˆë¬´ ë§ì€ ë¦¬ì†ŒìŠ¤ë¥¼ í”„ë¦¬í˜ì¹˜í•˜ë©´ ì´ˆê¸° ë¡œë”© ì‹œ ë¶ˆí•„ìš”í•œ ë„¤íŠ¸ì›Œí¬ ì‚¬ìš©ì´ ë°œìƒí•  ìˆ˜ ìˆìœ¼ë¯€ë¡œ, ì¤‘ìš”í•œ ë¦¬ì†ŒìŠ¤ë§Œ ì„ ë³„ì ìœ¼ë¡œ í”„ë¦¬í˜ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.

### ì°¸ê³ ìë£Œ

- web.dev: Preload critical assets to improve loading speed (https://web.dev/preload-critical-assets/)
- Google Developers: Prefetching Resources to Improve Performance (https://developers.google.com/web/fundamentals/performance/resource-prioritization#prefetch)

---

## ë²ˆë“¤ í¬ê¸° ìµœì í™” ì‚¬ë¡€

### AS-IS

ëŒ€ê·œëª¨ SPAì—ì„œ ë‹¨ì¼ JavaScript ë²ˆë“¤ íŒŒì¼ì˜ í¬ê¸°ê°€ ë§¤ìš° ì»¤ì„œ ì´ˆê¸° ë¡œë”© ì‹œê°„ì´ ê¸¸ì—ˆìŠµë‹ˆë‹¤.

```jsx
// webpack.config.js
const path = require("path");

module.exports = {
  entry: "./src/index.js",
  output: {
    filename: "bundle.js",
    path: path.resolve(__dirname, "dist"),
  },
};

// src/index.js
import React from "react";
import ReactDOM from "react-dom";
import { BrowserRouter as Router, Route, Switch } from "react-router-dom";
import moment from "moment";
import lodash from "lodash";
import Home from "./components/Home";
import About from "./components/About";
import Contact from "./components/Contact";

const App = () => (
  <Router>
    <Switch>
      <Route exact path='/' component={Home} />
      <Route path='/about' component={About} />
      <Route path='/contact' component={Contact} />
    </Switch>
  </Router>
);

ReactDOM.render(<App />, document.getElementById("root"));

// ë¶ˆí•„ìš”í•˜ê²Œ ì „ì²´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ import
console.log(moment().format("MMMM Do YYYY, h:mm:ss a"));
console.log(lodash.chunk(["a", "b", "c", "d"], 2));
```

### TO-BE

ë²ˆë“¤ ë¶„ì„ ë° ìµœì í™” ê¸°ë²•ì„ ì ìš©í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ì¤„ì´ê³  ë¡œë”© ì„±ëŠ¥ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

- Why: ì´ˆê¸° í˜ì´ì§€ ë¡œë“œ ì‹œê°„ì„ ë‹¨ì¶•í•˜ê³  ì‚¬ìš©ì ê²½í—˜ì„ ê°œì„ í•˜ê¸° ìœ„í•´
- How:
  ```jsx
  // webpack.config.js
  const path = require("path");
  const BundleAnalyzerPlugin = require("webpack-bundle-analyzer").BundleAnalyzerPlugin;
  const TerserPlugin = require("terser-webpack-plugin");

  module.exports = {
    entry: "./src/index.js",
    output: {
      filename: "[name].[contenthash].js",
      path: path.resolve(__dirname, "dist"),
    },
    optimization: {
      minimizer: [new TerserPlugin()],
      splitChunks: {
        chunks: "all",
      },
    },
    plugins: [new BundleAnalyzerPlugin()],
  };

  // src/index.js
  import React, { lazy, Suspense } from "react";
  import ReactDOM from "react-dom";
  import { BrowserRouter as Router, Route, Switch } from "react-router-dom";
  import { format } from "date-fns";

  const Home = lazy(() => import("./components/Home"));
  const About = lazy(() => import("./components/About"));
  const Contact = lazy(() => import("./components/Contact"));

  const App = () => (
    <Router>
      <Suspense fallback={<div>Loading...</div>}>
        <Switch>
          <Route exact path='/' component={Home} />
          <Route path='/about' component={About} />
          <Route path='/contact' component={Contact} />
        </Switch>
      </Suspense>
    </Router>
  );

  ReactDOM.render(<App />, document.getElementById("root"));

  // í•„ìš”í•œ ê¸°ëŠ¥ë§Œ importí•˜ì—¬ ì‚¬ìš©
  console.log(format(new Date(), "MMMM do yyyy, h:mm:ss a"));

  // lodash í•¨ìˆ˜ëŠ” í•„ìš”í•  ë•Œ ë™ì ìœ¼ë¡œ import
  if (needChunkFunction) {
    import("lodash/chunk").then((module) => {
      const chunk = module.default;
      console.log(chunk(["a", "b", "c", "d"], 2));
    });
  }
  ```
  1. webpack-bundle-analyzerë¥¼ ì‚¬ìš©í•˜ì—¬ ë²ˆë“¤ í¬ê¸°ë¥¼ ë¶„ì„í•©ë‹ˆë‹¤.
  2. Tree shakingì´ ìë™ìœ¼ë¡œ ì ìš©ë˜ì–´ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì½”ë“œê°€ ì œê±°ë©ë‹ˆë‹¤.
  3. React.lazyì™€ Suspenseë¥¼ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ë¶„í• ì„ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.
  4. moment.js ëŒ€ì‹  ë” ê°€ë²¼ìš´ date-fnsë¥¼ ì‚¬ìš©í•˜ê³ , í•„ìš”í•œ í•¨ìˆ˜ë§Œ import í•©ë‹ˆë‹¤.
  5. lodashëŠ” í•„ìš”í•œ í•¨ìˆ˜ë§Œ ë™ì ìœ¼ë¡œ import í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤.
  6. TerserPluginì„ ì‚¬ìš©í•˜ì—¬ ì½”ë“œ ì••ì¶• ë° ìµœì í™”ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
  7. contenthashë¥¼ ì‚¬ìš©í•˜ì—¬ ì¥ê¸° ìºì‹±ì„ ê°€ëŠ¥í•˜ê²Œ í•©ë‹ˆë‹¤.
- Result:
  1. ë©”ì¸ ë²ˆë“¤ í¬ê¸° ê°ì†Œ
  2. ì´ˆê¸° ë¡œë”© ì‹œê°„ ë‹¨ì¶•
  3. Time to Interactive (TTI) ê°œì„ 

### ì°¸ê³ ìë£Œ

- webpack ê³µì‹ ë¬¸ì„œ: Code Splitting (https://webpack.js.org/guides/code-splitting/)
- web.dev: Reduce JavaScript payloads with code splitting (https://web.dev/reduce-javascript-payloads-with-code-splitting/)

---
